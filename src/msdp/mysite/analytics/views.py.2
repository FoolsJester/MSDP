from django.shortcuts import render
from django.http import HttpResponseRedirect
from django.shortcuts import render
from django.views.generic import View
from .models import Analytics as AnalyticsModel
from .forms import AnalyticsForm

# Create your views here.
class Analytics(View):
    template_name = 'analytics.html'

    def get(self, request):
        user_list = []
        form_user = AnalyticsForm()
        users = [[123456, '2017-06-02',1,1345],[123345, '2017-06-03',2,345]]
        for user in users:
            user_list.append({'TripId': user[0], 'DayOfService': user[1], 'PN': user[2], 'StopPointId': user[3]})

        return render(request, self.template_name, {
            'title': 'Tripid List',
            'user_list': user_list,
            'form_user': form_user
        })
